var y=Object.create;var a=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var D=(e,o)=>{for(var n in o)a(e,n,{get:o[n],enumerable:!0})},m=(e,o,n,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of P(o))!b.call(e,t)&&t!==n&&a(e,t,{get:()=>o[t],enumerable:!(s=x(o,t))||s.enumerable});return e};var d=(e,o,n)=>(n=e!=null?y(k(e)):{},m(o||!e||!e.__esModule?a(n,"default",{value:e,enumerable:!0}):n,e)),O=e=>m(a({},"__esModule",{value:!0}),e);var j={};D(j,{default:()=>S});module.exports=O(j);var v=d(require("dotenv"));v.default.config();var U={port:process.env.PORT,nodeEnv:process.env.NODE_ENV,supabase:{url:process.env.SUPABASE_URL,serviceRoleKey:process.env.SUPABASE_SERVICE_ROLE_KEY},logging:!1},r=U;var l=d(require("express"));function E({identifier:e="Response",res:o,code:n=200,data:s=null,msgSuccess:t="Permintaan berhasil.",msgError:A="Sepertinya ada yang tidak beres.",msgEmpty:_="Data tidak di temukan."}){let i=n,p="",u=null;[200,201,204].includes(i)?Array.isArray(s)&&s.length===0?(i=404,p=_):(p=t,u=s):p=A;let g={status:i,message:p,data:u};return r.logging==="development"&&console.log(`[${e}]`,g),o.status(i).json(g)}var f=(0,l.default)(),R=l.default.Router();f.use(l.default.json());r.nodeEnv==="dev"&&f.get("/",(e,o)=>o.redirect("/api"));R.get("/",(e,o)=>E({identifier:"healthCheck",res:o,msgSuccess:"API is running properly!"}));f.use("/api",R);var c=f;var h=r.port||3e3;r.nodeEnv==="dev"&&c.listen(h,()=>{console.log(`Server running on http://localhost:${h}`)});function S(e,o){return c(e,o)}
